javascript:(function(){const now=new Date();const pad=(num)=>String(num).padStart(2,'0');const formattedDate=`${now.getFullYear()}-${pad(now.getMonth()+1)}-${pad(now.getDate())}T${pad(now.getHours())}:${pad(now.getMinutes())}:${pad(now.getSeconds())}`;const wikiDate=`[[${now.getFullYear()}_${pad(now.getMonth()+1)}_${pad(now.getDate())}]]`;const title=document.title;const url=document.URL;const bookmarkFolder="bookmarks/";const invalidChars=/[<>:"\/\\|?*#]/g;const safeFileName=title.replace(invalidChars,'_');const bookmarkFileName=%60${safeFileName}%60;const bookmarkFileContent='---\n'+%60url: ${url}\n%60+%60date: ${formattedDate}\n%60+'---\n'+wikiDate+'閲覧\n';const obsidianUrl="obsidian://new?"+"file="+encodeURIComponent(bookmarkFolder+bookmarkFileName)+"&content="+encodeURIComponent(bookmarkFileContent);const wikiLink=%60[[${safeFileName}]]%60;navigator.clipboard.writeText(wikiLink);document.location.href=obsidianUrl;})();
